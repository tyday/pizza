{% extends "base_generic.html" %}
{% load static %}
{% block title %}
<title>Pinochio's Menu</title>
{% endblock title %}
{% block content %}
<p id="welcome">Welcome to your cart</p>
{% if not shoppingcart %}
<p><a href="{% url 'menu' %}">Click here to see the menu</a></p>
{% endif %}
<ul>
{% for order_item in shoppingcart %}
    <li class="shoppingcartListItem">{{ order_item.size.title }} 
        {{ order_item.item.name.title }} 
        {% if order_item.item.subcategory %}{{ order_item.item.subcategory.title }}{% endif %} 
        {{ order_item.item.category.title }}
    <ul>
        {% for topping in order_item.orderitemstoppings_set.all %}
        <li>{{ topping.topping.name }}</li>
        {% endfor %}
    </ul>
    <p>Cost: ${{ order_item.total_cost|stringformat:".2f" }}</p>
    <button id="btn_remove" onclick="remove_from_shoppingcart(event)" data-itemID="{{ order_item.id }}">Remove</button>
    </li>
{% endfor %}
</ul>
<hr>
{% if shoppingcart %}
<button id="btn_place_order" onclick="place_order()">Place Order</button>
<button>Cancel Order</button>
{% endif %}
{% endblock content %}

{% block scripts %}
    {{ block.super }}
    <script src="{% static 'js/shoppingcart.js' %}"></script>
{% endblock %}